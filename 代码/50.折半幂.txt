class Solution {
    public double myPow(double x, int n) {

        boolean flag = true;
        if(n < 0){
            flag = false;
        }
        long temp_n = (n < 0) ? (-(long)n) : n;

        double res = 1;

        while(temp_n != 0){
            if((temp_n & 1) == 1){
                res *= x;
            }
            x *= x;
            temp_n >>= 1;
        }

        return (flag == false)?(1/res):res;

    }
}